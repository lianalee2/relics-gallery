{% extends 'base.html' %}

{% block title %}數據導入 - 管理員後台{% endblock %}

{% block content %}
<div class="admin-container" style="max-width: 800px; margin: 50px auto; padding: 0 20px;">
    <div style="margin-bottom: 20px;">
        <a href="{{ url_for('admin_dashboard') }}" style="text-decoration: none; color: var(--color-primary);">← 返回儀表板</a>
    </div>

    <div style="background: white; padding: 40px; border-radius: 12px; border: 1px solid var(--border-color); box-shadow: 0 4px 12px rgba(0,0,0,0.05);">
        <h1 style="margin-top: 0;">📥 批量導入文物數據</h1>
        <p style="color: #666;">支持上傳 CSV、XLSX 格式文件。請確保文件列名與系統規範一致。</p>

        <hr style="border: 0; border-top: 1px solid #eee; margin: 30px 0;">

        <form action="{{ url_for('admin_import') }}" method="POST" enctype="multipart/form-data">
            <div style="margin-bottom: 25px;">
                <label style="display: block; font-weight: bold; margin-bottom: 10px;">1. 選擇導入模式</label>
                <select name="import_mode" style="width: 100%; padding: 10px; border-radius: 4px; border: 1px solid #ddd;">
                    <option value="skip">跳過模式（若系統已有相同 ID 則不處理）</option>
                    <option value="update">更新模式（若系統已有相同 ID 則覆蓋舊資料）</option>
                </select>
            </div>

            <div style="margin-bottom: 25px; border: 2px dashed #ddd; padding: 30px; text-align: center; border-radius: 8px;">
                <label style="display: block; font-weight: bold; margin-bottom: 10px;">2. 上傳數據文件</label>
                <input type="file" name="file" accept=".csv, .xlsx, .xls" required>
            </div>

            <button type="submit" style="width: 100%; padding: 15px; background: var(--color-primary); color: white; border: none; border-radius: 6px; font-weight: bold; cursor: pointer;">
                確認並開始導入
            </button>
        </form>

        <div style="margin-top: 30px; background: #fffdf0; padding: 20px; border-radius: 8px; border: 1px solid #f5e79e;">
            <h3 style="margin-top: 0; font-size: 1rem; color: #856404;">⚠️ 注意事項</h3>
            <ul style="font-size: 0.9rem; color: #856404; padding-left: 20px;">
                <li>必須包含關鍵欄位：<strong>Source_ID, Original_ID, Title_CN</strong></li>
                <li>日期欄位請使用數字或標準字串格式。</li>
                <li>一次建議上傳不超過 1000 筆數據以維持系統穩定。</li>
                <li><a href="{{ url_for('download_import_template') }}">點此下載範本檔案</a></li>
            </ul>
        </div>
    </div>
</div>
{% endblock %}